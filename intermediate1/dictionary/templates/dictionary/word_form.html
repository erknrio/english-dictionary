{% extends 'commons/base.html' %}

{% block title %}- New Word{% endblock title %}

{% block content %}
<h1>{{ header_text|default:"Word" }}</h1>
<section class="pretty-top">
  {% if form.errors %}
  <div class="col s12 red-text">
    {{ form.errors }}
  </div>
  {% endif %}
  <form class="col s12" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {% for field in form %}
    <div class="row">
      {% if field.errors %}
      <div class="red-text">
        {{ field.errors }}
      </div>
      {% endif %}
      <div class="input-field col s12">
        <label for="{{ field.name }}" class="active">{{ field.label }}</label>
        {{ field }}
        {% if field.help_text %}
        <span class="helptext">{{ field.help_text|safe }}</span>
        {% endif %}
      </div>
    </div>
    {% endfor %}
    <button type="submit" class="col s12 waves-effect waves-light btn-large">
      <i class="material-icons left">save</i>
      Save
      <i class="material-icons right">save</i>
    </button>
  </form>
</section>
{% endblock content %}

{% block js_scripts %}
<script>
  $(document).ready(function() {
    function capitalizeFirstWord(text) {
      return text.charAt(0).toUpperCase() + text.slice(1);
    }

    $("form").on("submit", function(ev) {
      document.getElementById("id_english_word").value = capitalizeFirstWord(document.getElementById("id_english_word").value);
      document.getElementById("id_spanish_word").value = capitalizeFirstWord(document.getElementById("id_spanish_word").value);
      document.getElementById("id_spanish_pronunciation").value = capitalizeFirstWord(document.getElementById("id_spanish_pronunciation").value);
      document.getElementById("id_phonetics").value = capitalizeFirstWord(document.getElementById("id_phonetics").value);
      document.getElementById("id_notes").value = capitalizeFirstWord(document.getElementById("id_notes").value);
    });
  });
</script>
{% endblock js_scripts %}
